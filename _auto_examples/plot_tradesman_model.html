

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>5.1. Create model &#8212; Tradesman TBD documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=12da95d707ffb74b382d" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=12da95d707ffb74b382d" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=12da95d707ffb74b382d" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=12da95d707ffb74b382d" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-dataframe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-rendered-html.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=12da95d707ffb74b382d" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=12da95d707ffb74b382d" />

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = '_auto_examples/plot_tradesman_model';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="5.2. Plotting Data" href="plot_data_analytics.html" />
    <link rel="prev" title="5. Workflows" href="index.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  <div class="navbar-header-items__start">
    
      <div class="navbar-item">
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    <p class="title logo__title">Tradesman TBD documentation</p>
  
</a></div>
    
  </div>
  
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../build_analytics_model.html">
                        Analytics models
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../data_sources.html">
                        Data sources
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../zoning.html">
                        Building Zones
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../synthetic_population.html">
                        Synthetic Populations
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="index.html">
                        Workflows
                      </a>
                    </li>
                
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          
<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
        </div>
      
      
        <div class="navbar-item">
<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">
<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
    </div>
  

  
    <label class="sidebar-toggle secondary-toggle" for="__secondary">
      <span class="fa-solid fa-outdent"></span>
    </label>
  
</div>

    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../build_analytics_model.html">
                        Analytics models
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../data_sources.html">
                        Data sources
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../zoning.html">
                        Building Zones
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../synthetic_population.html">
                        Synthetic Populations
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="index.html">
                        Workflows
                      </a>
                    </li>
                
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">
<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item"><nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1 current active"><a class="current reference internal" href="#">5.1. Create model</a></li>
<li class="toctree-l1"><a class="reference internal" href="plot_data_analytics.html">5.2. Plotting Data</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumbs">
  <ul class="bd-breadcrumbs" role="navigation" aria-label="Breadcrumb">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="index.html" class="nav-link"><span class="section-number">5. </span>Workflows</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><span class="section-number">5.1. </span>Create model</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <div class="sphx-glr-download-link-note admonition note">
<p class="admonition-title">Note</p>
<p><a class="reference internal" href="#sphx-glr-download-auto-examples-plot-tradesman-model-py"><span class="std std-ref">Go to the end</span></a>
to download the full example code</p>
</div>
<section class="sphx-glr-example-title" id="create-model">
<span id="sphx-glr-auto-examples-plot-tradesman-model-py"></span><h1><span class="section-number">5.1. </span>Create model<a class="headerlink" href="#create-model" title="Permalink to this heading">#</a></h1>
<p>In this example, we show how to run a complete Tradesman model for Nauru, an insular country in Oceania.</p>
<p>Imports</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">tradesman.model</span> <span class="kn">import</span> <span class="n">Tradesman</span>
<span class="kn">from</span> <span class="nn">tempfile</span> <span class="kn">import</span> <span class="n">gettempdir</span>
<span class="kn">from</span> <span class="nn">uuid</span> <span class="kn">import</span> <span class="n">uuid4</span>
<span class="kn">from</span> <span class="nn">os.path</span> <span class="kn">import</span> <span class="n">join</span>
</pre></div>
</div>
<p>We create a temporary folder to store our data</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">folder</span> <span class="o">=</span> <span class="n">join</span><span class="p">(</span><span class="n">gettempdir</span><span class="p">(),</span> <span class="n">uuid4</span><span class="p">()</span><span class="o">.</span><span class="n">hex</span><span class="p">)</span>
</pre></div>
</div>
<p>Let’s initialize our model</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model</span> <span class="o">=</span> <span class="n">Tradesman</span><span class="p">(</span><span class="n">network_path</span><span class="o">=</span><span class="n">folder</span><span class="p">,</span> <span class="n">model_place</span><span class="o">=</span><span class="s2">&quot;Nauru&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>If we want to run a model with Tradesman default configurations, we can go for <cite>model.create()</cite> and wait for it.
But we can customize the model we want to create. So let’s check out how to change some of the configurations.</p>
<p>First step is to add the model area and other geographical subdivisions to our model</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">import_model_area</span><span class="p">()</span>
<span class="n">model</span><span class="o">.</span><span class="n">add_country_borders</span><span class="p">()</span>
<span class="n">model</span><span class="o">.</span><span class="n">import_subdivisions</span><span class="p">()</span>
</pre></div>
</div>
<p>We can now import the network to our model. We’ll download our network from OpenStreetMaps (OSM).</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">import_network</span><span class="p">()</span>
</pre></div>
</div>
<p>Later we import population data into our model. We use WorldPop as our source, but you can also try Meta.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">import_population</span><span class="p">()</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>pop_Nauru.tif: 0.00B [00:00, ?B/s]
pop_Nauru.tif:  62%|######2   | 8.00k/12.9k [00:00&lt;00:00, 18.5kB/s]
pop_Nauru.tif: 100%|##########| 16.0k/16.0k [00:00&lt;00:00, 37.0kB/s]
</pre></div>
</div>
<p>Now that we have network and population information, we can build our Traffic Analysis Zones (TAZs).
Nauru has a small population, so we will set our zones to range between 100 and 500 inhabitants.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">build_zoning</span><span class="p">(</span><span class="n">min_zone_pop</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">max_zone_pop</span><span class="o">=</span><span class="mi">500</span><span class="p">)</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>Expect 868 total hexbins for this bounding box

  0%|          | 0/31 [00:00&lt;?, ?it/s]
100%|##########| 31/31 [00:00&lt;00:00, 1245.58it/s]
/home/runner/work/tradesman/tradesman/tradesman/model_creation/zoning/zones_with_location.py:23: UserWarning: Geometry is in a geographic CRS. Results from &#39;centroid&#39; are likely incorrect. Use &#39;GeoSeries.to_crs()&#39; to re-project geometries to a projected CRS before this operation.

  centroids = gpd.GeoDataFrame(hexb[[&quot;hex_id&quot;]], geometry=hexb.centroid, crs=&quot;EPSG:4326&quot;)
/opt/hostedtoolcache/Python/3.9.16/x64/lib/python3.9/site-packages/geopandas/array.py:344: UserWarning: Geometry is in a geographic CRS. Results from &#39;sjoin_nearest&#39; are likely incorrect. Use &#39;GeoSeries.to_crs()&#39; to re-project geometries to a projected CRS before this operation.

  warnings.warn(
/home/runner/work/tradesman/tradesman/tradesman/model_creation/zoning/create_clusters.py:33: UserWarning: Geometry is in a geographic CRS. Results from &#39;centroid&#39; are likely incorrect. Use &#39;GeoSeries.to_crs()&#39; to re-project geometries to a projected CRS before this operation.

  centroids = hexbins.geometry.centroid

0it [00:00, ?it/s]Done 0/14 states

3it [00:00, 28.95it/s]
14it [00:00, 71.20it/s]
/opt/hostedtoolcache/Python/3.9.16/x64/lib/python3.9/site-packages/libpysal/weights/weights.py:172: UserWarning: The weights matrix is not fully connected:
 There are 2 disconnected components.
  warnings.warn(message)
/opt/hostedtoolcache/Python/3.9.16/x64/lib/python3.9/site-packages/geopandas/geodataframe.py:1415: UserWarning: Boolean Series key will be reindexed to match DataFrame index.
  result = super().__getitem__(key)
/opt/hostedtoolcache/Python/3.9.16/x64/lib/python3.9/site-packages/libpysal/weights/weights.py:172: UserWarning: The weights matrix is not fully connected:
 There are 2 disconnected components.
 There is 1 island with id: 39.
  warnings.warn(message)
/opt/hostedtoolcache/Python/3.9.16/x64/lib/python3.9/site-packages/geopandas/geodataframe.py:1415: UserWarning: Boolean Series key will be reindexed to match DataFrame index.
  result = super().__getitem__(key)
/opt/hostedtoolcache/Python/3.9.16/x64/lib/python3.9/site-packages/libpysal/weights/weights.py:172: UserWarning: The weights matrix is not fully connected:
 There are 2 disconnected components.
  warnings.warn(message)
/opt/hostedtoolcache/Python/3.9.16/x64/lib/python3.9/site-packages/geopandas/geodataframe.py:1415: UserWarning: Boolean Series key will be reindexed to match DataFrame index.
  result = super().__getitem__(key)
</pre></div>
</div>
<p>Let’s import more population data to our model!
Now we’ll gather information about total inhabitants by sex and age.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">import_pop_by_sex_and_age</span><span class="p">()</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>NRU_POPF1.tif: 0.00B [00:00, ?B/s]
NRU_POPF1.tif:  52%|#####2    | 8.00k/15.4k [00:00&lt;00:00, 22.1kB/s]
NRU_POPF1.tif: 100%|##########| 16.0k/16.0k [00:00&lt;00:00, 44.1kB/s]

NRU_POPF2.tif: 0.00B [00:00, ?B/s]
NRU_POPF2.tif:  52%|#####2    | 8.00k/15.3k [00:00&lt;00:00, 21.4kB/s]
NRU_POPF2.tif: 100%|##########| 16.0k/16.0k [00:00&lt;00:00, 42.8kB/s]

NRU_POPF3.tif: 0.00B [00:00, ?B/s]
NRU_POPF3.tif:  52%|#####2    | 8.00k/15.4k [00:00&lt;00:00, 22.0kB/s]
NRU_POPF3.tif: 100%|##########| 16.0k/16.0k [00:00&lt;00:00, 43.9kB/s]

NRU_POPF4.tif: 0.00B [00:00, ?B/s]
NRU_POPF4.tif:  52%|#####2    | 8.00k/15.4k [00:00&lt;00:00, 22.5kB/s]
NRU_POPF4.tif: 100%|##########| 16.0k/16.0k [00:00&lt;00:00, 44.9kB/s]

NRU_POPF5.tif: 0.00B [00:00, ?B/s]
NRU_POPF5.tif:  52%|#####2    | 8.00k/15.4k [00:00&lt;00:00, 20.6kB/s]
NRU_POPF5.tif: 100%|##########| 16.0k/16.0k [00:00&lt;00:00, 41.2kB/s]

NRU_POPF6.tif: 0.00B [00:00, ?B/s]
NRU_POPF6.tif:  52%|#####1    | 8.00k/15.4k [00:00&lt;00:00, 22.3kB/s]
NRU_POPF6.tif: 100%|##########| 16.0k/16.0k [00:00&lt;00:00, 44.5kB/s]

NRU_POPF7.tif: 0.00B [00:00, ?B/s]
NRU_POPF7.tif:  52%|#####2    | 8.00k/15.3k [00:00&lt;00:00, 22.7kB/s]
NRU_POPF7.tif: 100%|##########| 16.0k/16.0k [00:00&lt;00:00, 45.3kB/s]

NRU_POPF8.tif: 0.00B [00:00, ?B/s]
NRU_POPF8.tif:  52%|#####2    | 8.00k/15.3k [00:00&lt;00:00, 21.8kB/s]
NRU_POPF8.tif: 100%|##########| 16.0k/16.0k [00:00&lt;00:00, 43.6kB/s]

NRU_POPF9.tif: 0.00B [00:00, ?B/s]
NRU_POPF9.tif:  52%|#####1    | 8.00k/15.4k [00:00&lt;00:00, 21.7kB/s]
NRU_POPF9.tif: 100%|##########| 16.0k/16.0k [00:00&lt;00:00, 43.2kB/s]

NRU_POPF10.tif: 0.00B [00:00, ?B/s]
NRU_POPF10.tif:  52%|#####1    | 8.00k/15.4k [00:00&lt;00:00, 22.3kB/s]
NRU_POPF10.tif: 100%|##########| 16.0k/16.0k [00:00&lt;00:00, 44.6kB/s]

NRU_POPF11.tif: 0.00B [00:00, ?B/s]
NRU_POPF11.tif:  52%|#####1    | 8.00k/15.4k [00:00&lt;00:00, 21.1kB/s]
NRU_POPF11.tif: 100%|##########| 16.0k/16.0k [00:00&lt;00:00, 42.2kB/s]

NRU_POPF12.tif: 0.00B [00:00, ?B/s]
NRU_POPF12.tif:  52%|#####2    | 8.00k/15.4k [00:00&lt;00:00, 21.2kB/s]
NRU_POPF12.tif: 100%|##########| 16.0k/16.0k [00:00&lt;00:00, 42.3kB/s]

NRU_POPF13.tif: 0.00B [00:00, ?B/s]
NRU_POPF13.tif:  52%|#####2    | 8.00k/15.3k [00:00&lt;00:00, 22.5kB/s]
NRU_POPF13.tif: 100%|##########| 16.0k/16.0k [00:00&lt;00:00, 45.0kB/s]

NRU_POPF14.tif: 0.00B [00:00, ?B/s]
NRU_POPF14.tif:  52%|#####1    | 8.00k/15.4k [00:00&lt;00:00, 21.7kB/s]
NRU_POPF14.tif: 100%|##########| 16.0k/16.0k [00:00&lt;00:00, 43.3kB/s]

NRU_POPF15.tif: 0.00B [00:00, ?B/s]
NRU_POPF15.tif:  52%|#####2    | 8.00k/15.4k [00:00&lt;00:00, 20.2kB/s]
NRU_POPF15.tif: 100%|##########| 16.0k/16.0k [00:00&lt;00:00, 40.4kB/s]

NRU_POPF16.tif: 0.00B [00:00, ?B/s]
NRU_POPF16.tif:  52%|#####2    | 8.00k/15.4k [00:00&lt;00:00, 22.0kB/s]
NRU_POPF16.tif: 100%|##########| 16.0k/16.0k [00:00&lt;00:00, 43.9kB/s]

NRU_POPF17.tif: 0.00B [00:00, ?B/s]
NRU_POPF17.tif:  52%|#####2    | 8.00k/15.3k [00:00&lt;00:00, 22.9kB/s]
NRU_POPF17.tif: 100%|##########| 16.0k/16.0k [00:00&lt;00:00, 45.7kB/s]

NRU_POPF18.tif: 0.00B [00:00, ?B/s]
NRU_POPF18.tif:  52%|#####2    | 8.00k/15.4k [00:00&lt;00:00, 23.1kB/s]
NRU_POPF18.tif: 100%|##########| 16.0k/16.0k [00:00&lt;00:00, 46.1kB/s]

NRU_POPM1.tif: 0.00B [00:00, ?B/s]
NRU_POPM1.tif:  52%|#####1    | 8.00k/15.4k [00:03&lt;00:03, 2.15kB/s]
NRU_POPM1.tif: 100%|##########| 16.0k/16.0k [00:03&lt;00:00, 4.30kB/s]

NRU_POPM2.tif: 0.00B [00:00, ?B/s]
NRU_POPM2.tif:  52%|#####1    | 8.00k/15.4k [00:00&lt;00:00, 23.2kB/s]
NRU_POPM2.tif: 100%|##########| 16.0k/16.0k [00:00&lt;00:00, 46.4kB/s]

NRU_POPM3.tif: 0.00B [00:00, ?B/s]
NRU_POPM3.tif:  52%|#####2    | 8.00k/15.3k [00:00&lt;00:00, 23.9kB/s]
NRU_POPM3.tif: 100%|##########| 16.0k/16.0k [00:00&lt;00:00, 47.6kB/s]

NRU_POPM4.tif: 0.00B [00:00, ?B/s]
NRU_POPM4.tif:  52%|#####2    | 8.00k/15.4k [00:00&lt;00:00, 21.0kB/s]
NRU_POPM4.tif: 100%|##########| 16.0k/16.0k [00:00&lt;00:00, 41.9kB/s]

NRU_POPM5.tif: 0.00B [00:00, ?B/s]
NRU_POPM5.tif:  52%|#####1    | 8.00k/15.4k [00:00&lt;00:00, 23.0kB/s]
NRU_POPM5.tif: 100%|##########| 16.0k/16.0k [00:00&lt;00:00, 45.9kB/s]

NRU_POPM6.tif: 0.00B [00:00, ?B/s]
NRU_POPM6.tif:  52%|#####1    | 8.00k/15.4k [00:00&lt;00:00, 21.6kB/s]
NRU_POPM6.tif: 100%|##########| 16.0k/16.0k [00:00&lt;00:00, 43.2kB/s]

NRU_POPM7.tif: 0.00B [00:00, ?B/s]
NRU_POPM7.tif:  52%|#####2    | 8.00k/15.4k [00:00&lt;00:00, 22.2kB/s]
NRU_POPM7.tif: 100%|##########| 16.0k/16.0k [00:00&lt;00:00, 44.4kB/s]

NRU_POPM8.tif: 0.00B [00:00, ?B/s]
NRU_POPM8.tif:  52%|#####2    | 8.00k/15.4k [00:00&lt;00:00, 22.4kB/s]
NRU_POPM8.tif: 100%|##########| 16.0k/16.0k [00:00&lt;00:00, 44.7kB/s]

NRU_POPM9.tif: 0.00B [00:00, ?B/s]
NRU_POPM9.tif:  52%|#####2    | 8.00k/15.4k [00:00&lt;00:00, 21.4kB/s]
NRU_POPM9.tif: 100%|##########| 16.0k/16.0k [00:00&lt;00:00, 42.7kB/s]

NRU_POPM10.tif: 0.00B [00:00, ?B/s]
NRU_POPM10.tif:  52%|#####1    | 8.00k/15.4k [00:00&lt;00:00, 22.2kB/s]
NRU_POPM10.tif: 100%|##########| 16.0k/16.0k [00:00&lt;00:00, 44.3kB/s]

NRU_POPM11.tif: 0.00B [00:00, ?B/s]
NRU_POPM11.tif:  52%|#####2    | 8.00k/15.4k [00:00&lt;00:00, 21.6kB/s]
NRU_POPM11.tif: 100%|##########| 16.0k/16.0k [00:00&lt;00:00, 43.2kB/s]

NRU_POPM12.tif: 0.00B [00:00, ?B/s]
NRU_POPM12.tif:  52%|#####2    | 8.00k/15.4k [00:00&lt;00:00, 21.3kB/s]
NRU_POPM12.tif: 100%|##########| 16.0k/16.0k [00:00&lt;00:00, 42.6kB/s]

NRU_POPM13.tif: 0.00B [00:00, ?B/s]
NRU_POPM13.tif:  52%|#####1    | 8.00k/15.4k [00:00&lt;00:00, 22.3kB/s]
NRU_POPM13.tif: 100%|##########| 16.0k/16.0k [00:00&lt;00:00, 44.5kB/s]

NRU_POPM14.tif: 0.00B [00:00, ?B/s]
NRU_POPM14.tif:  52%|#####1    | 8.00k/15.4k [00:00&lt;00:00, 19.7kB/s]
NRU_POPM14.tif: 100%|##########| 16.0k/16.0k [00:00&lt;00:00, 39.3kB/s]

NRU_POPM15.tif: 0.00B [00:00, ?B/s]
NRU_POPM15.tif:  52%|#####2    | 8.00k/15.4k [00:00&lt;00:00, 21.7kB/s]
NRU_POPM15.tif: 100%|##########| 16.0k/16.0k [00:00&lt;00:00, 43.4kB/s]

NRU_POPM16.tif: 0.00B [00:00, ?B/s]
NRU_POPM16.tif:  52%|#####2    | 8.00k/15.4k [00:00&lt;00:00, 22.2kB/s]
NRU_POPM16.tif: 100%|##########| 16.0k/16.0k [00:00&lt;00:00, 44.2kB/s]

NRU_POPM17.tif: 0.00B [00:00, ?B/s]
NRU_POPM17.tif:  52%|#####2    | 8.00k/15.4k [00:00&lt;00:00, 21.1kB/s]
NRU_POPM17.tif: 100%|##########| 16.0k/16.0k [00:00&lt;00:00, 42.2kB/s]

NRU_POPM18.tif: 0.00B [00:00, ?B/s]
NRU_POPM18.tif:  52%|#####2    | 8.00k/15.3k [00:00&lt;00:00, 22.3kB/s]
NRU_POPM18.tif: 100%|##########| 16.0k/16.0k [00:00&lt;00:00, 44.6kB/s]
</pre></div>
</div>
<p>We can also import amenity and building information from OSM.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">import_amenities</span><span class="p">()</span>
<span class="n">model</span><span class="o">.</span><span class="n">import_buildings</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<p>With Tradesman, we can also create a synthetic population for our model.
First, we build our seed sample. At the end of this step, it is possible to see the overall characteristics of
our population sample.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">build_population_synthesizer_data</span><span class="p">(</span><span class="n">sample_size</span><span class="o">=</span><span class="mf">0.02</span><span class="p">)</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>Calculated vs Expected percentage of households per size in the sample

# Person      Calculated    Expected
----------  ------------  ----------
1 person           28.99       22.84
2-3 person         42.03       50.52
4-5 person         26.09       22.09
6+ person           2.9         4.55

Difference in calculated vs expected percentage of households in the sample

# Person      Diff.
----------  -------
1 person       6.15
2-3 person    -8.49
4-5 person     4
6+ person     -1.65
</pre></div>
</div>
<p>Than we synthesize our data.
As our population is not that large, we don’t need to set multiple threads to run the synthesizer.
But as the size of the population increases, it is worth using multiple threads to reduce the processing time.
At the end of the process, we will receive two outputs related to the validation of our synthetic population.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">synthesize_population</span><span class="p">(</span><span class="n">thread_number</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>/home/runner/work/tradesman/tradesman/tradesman/model_creation/synthetic_population/create_synthetic_population.py:108: UserWarning: Synthetic population was not generated. Please increase your sample size or change the number of threads.
  warnings.warn(
</pre></div>
</div>
<p class="sphx-glr-timing"><strong>Total running time of the script:</strong> ( 3 minutes  33.296 seconds)</p>
<div class="sphx-glr-footer sphx-glr-footer-example docutils container" id="sphx-glr-download-auto-examples-plot-tradesman-model-py">
<div class="sphx-glr-download sphx-glr-download-python docutils container">
<p><a class="reference download internal" download="" href="../_downloads/908f74159f153e8b96245749f7eccf60/plot_tradesman_model.py"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Python</span> <span class="pre">source</span> <span class="pre">code:</span> <span class="pre">plot_tradesman_model.py</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-jupyter docutils container">
<p><a class="reference download internal" download="" href="../_downloads/c957b602dc5edf7205d23cf2ba43d36a/plot_tradesman_model.ipynb"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Jupyter</span> <span class="pre">notebook:</span> <span class="pre">plot_tradesman_model.ipynb</span></code></a></p>
</div>
</div>
<p class="sphx-glr-signature"><a class="reference external" href="https://sphinx-gallery.github.io">Gallery generated by Sphinx-Gallery</a></p>
</section>


                </article>
              
              
              
                <footer class="bd-footer-article">
                  <!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="index.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><span class="section-number">5. </span>Workflows</p>
      </div>
    </a>
    <a class="right-next"
       href="plot_data_analytics.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">5.2. </span>Plotting Data</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="tocsection sourcelink">
    <a href="../_sources/_auto_examples/plot_tradesman_model.rst.txt">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            <div class="bd-footer-content__inner"></div>
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=12da95d707ffb74b382d"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=12da95d707ffb74b382d"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">
  <p class="copyright">
    
      © Copyright 2022, Pedro Camargo.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">
  <p class="sphinx-version">
    Created using <a href="https://sphinx-doc.org/">Sphinx</a> 5.3.0.
    <br/>
  </p>
</div>
      
    </div>
  
  
    <div class="footer-items__end">
      
        <div class="footer-item"><p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.13.1.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>